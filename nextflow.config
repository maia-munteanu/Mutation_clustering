process {
    clusterOptions = '--exclude=fsupeksvr5 -p normal_prio'
    memory = '15G'
    
    withName:parse_vcfs {
        container = '/home/mmunteanu/Clusters.img'
    }
    withName:get_clusters {
        container = '/home/mmunteanu/Clusters.img'
    }
    withName:count_mutations {
        container = '/home/mmunteanu/Clusters.img'
    }
    withName:get_signatures {
        memory = '50G'
        cpus = 8
        conda = '/home/dnaro/.conda/envs/torchcuda'
        afterScript 'set +u; conda deactivate'
    }
}    


singularity {
        enabled = true
        autoMounts = true
        runOptions = '-B /g/strcombio/fsupek_cancer1/SV_clusters_project/nextflow_analysis -B /local_scratch/tmp/ -B /home/ -B /g/strcombio/ -B /g/strcombio/fsupek_cancer1/SV_clusters_project/nextflow_pipeline/Mutation_clustering/'
}

conda {
       enabled = true    
}
